"use strict";(self.webpackChunkadmin_web_frontend=self.webpackChunkadmin_web_frontend||[]).push([[423],{88110:function(n,e,t){var i=t(29439),a=t(47313),r=t(58467),s=t(83069),l=t(82294),o=t(57743),c=t(46417);e.Z=function(n){var e=n.children,t=(0,r.TH)(),u=(0,r.s0)(),d="true"===sessionStorage.getItem("loaded")||!(0,o.Ee)(),m=(0,a.useState)(d),f=(0,i.Z)(m,2),h=f[0],p=f[1];return(0,a.useEffect)((function(){if(!h){var n=(0,s.rb)();return sessionStorage.setItem("loaded","true"),n&&n!==(0,l.a9)(t)?(console.log((0,l.a9)(t)+" redirecting to last opened page:",n),void u(n)):void 0}}),[]),(0,a.useEffect)((function(){if((0,o.Ee)()){var n=(0,l.a9)(t);if(h)"true"===sessionStorage.getItem("loaded")&&(n.startsWith("/500")||n.startsWith("/404")||n.startsWith("/403")||n.startsWith("/offline")||(0,s.qD)(n));else{var e=(0,s.rb)();(void 0===e||null===e||e===n)&&p(!0)}}}),[t]),h?(0,c.jsx)(c.Fragment,{children:e}):(0,c.jsx)(c.Fragment,{})}},90423:function(n,e,t){t.r(e),t.d(e,{default:function(){return sn}});var i=t(29439),a=t(36252),r=t(59529),s=t(37272),l=t(62894),o=t(78939),c=t(68197),u=t(59624),d=t(88783),m=t(47313),f=t(57743),h=t(93433),p=t(39548),g=t(60647),x=t(62458),b=t(31714),y=t(32344),j=t(51729),v=t(55615),Z=t(15413),k=t(2135),w=t(84523),R=t(21794),S=t(87785),I=t(82294),z=t(46417),C=j.Z.Text,F=function(n){var e,t=n.data,a=n.offline,r=v.Z.useModal(),s=(0,i.Z)(r,2),l=s[0],o=s[1],c=function(n){var e,i=[{key:"1",label:(0,z.jsxs)(k.rU,{to:"/user",onClick:function(n){return(0,I.YK)(n,l)},children:[(0,z.jsx)(p.Z,{}),(0,z.jsx)(C,{style:{paddingLeft:"5px",paddingRight:16},children:n["admin.user.info"]})]})},{key:"2",label:(0,z.jsxs)(k.rU,{to:"/user-update-password",onClick:function(n){return(0,I.YK)(n,l)},children:[(0,z.jsx)(g.Z,{}),(0,z.jsx)(C,{style:{paddingLeft:"5px",paddingRight:16},children:n["admin.changePwd"]})]})},{key:"-",label:(0,z.jsx)(S.Z,{style:{marginTop:"5px",marginBottom:"5px",userSelect:"none",cursor:"none"}})}];return a||i.push({key:"3",label:(0,z.jsxs)("a",{href:"./admin/logout",children:[(0,z.jsx)(x.Z,{}),(0,z.jsx)(C,{style:{paddingLeft:"5px",paddingRight:16},children:n["admin.user.logout"]})]})}),null!==(e=t.lastVersion)&&void 0!==e&&e.upgrade&&(i=[{key:"0",label:(0,z.jsx)(k.rU,{to:"/upgrade",children:(0,z.jsxs)(Z.Z,{dot:!0,children:[(0,z.jsx)(b.Z,{}),(0,z.jsxs)(C,{style:{paddingLeft:"6px"},children:[n.newVersion," - (",t.lastVersion.version.version,"#",t.lastVersion.version.type,")"]})]})})}].concat((0,h.Z)(i))),i}((0,d.sR)());return(0,z.jsxs)(z.Fragment,{children:[o,(0,z.jsx)(w.Z,{menu:{items:c},placement:"bottom",arrow:{pointAtCenter:!0},children:(0,z.jsxs)("div",{style:{color:"#ffffff",height:"64px",borderRadius:0,marginRight:16,float:"right"},children:[(0,z.jsx)(R.Z,{preview:!1,fallback:d.ZP.getFillBackImg(),className:"userAvatarImg",src:t.header,style:{cursor:"pointer",width:40,height:40}}),(0,z.jsx)(Z.Z,{dot:null===(e=t.lastVersion)||void 0===e?void 0:e.upgrade,children:(0,z.jsx)(C,{style:{color:"#ffffff",paddingLeft:8},children:t.userName})}),(0,z.jsx)(y.Z,{})]})})]})},W=t(24983),E=t(69922),M=t(60563),P=t(95366),L=t(92155),H=t(30804),Q=t(64426),D=t(95090),U=t(12675),A=t(42068),T=t(69893),V=t(19009),_=t(98447),q=t(4574),K=t(58467);var B,N=function(){var n=(0,K.TH)(),e=v.Z.useModal(),t=(0,i.Z)(e,2),a=t[0],r=t[1];function s(e,t,i){var r=function(e){return n.pathname.startsWith("/website")&&e.link.startsWith("/website")||n.pathname===e.link?{selected:!0,icon:e.selectIcon}:"#more"!==e.link?{selected:!1,icon:e.icon}:"/link"===n.pathname||"/nav"===n.pathname||"/article-type"===n.pathname?{selected:!0,icon:e.selectIcon}:{selected:!1,icon:e.icon}}(e),s=(0,z.jsxs)(k.rU,{to:e.link,style:{color:r.selected&&f.ZP.isDarkMode()?(0,d.RQ)():"#FFF"},onClick:function(n){(0,I.YK)(n,a)},children:[r.icon,(0,z.jsx)("span",{className:"menu-title",children:e.text})]}),l={margin:0,borderRadius:0,width:"100%",color:"#FFF"};return r.selected&&(l.background=function(n,e){if(n.startsWith("#")){var t,i=n.slice(1);if(3===i.length)t=65793*parseInt(i,16);else{if(6!==i.length)throw new Error("Invalid hexadecimal color format");t=parseInt(i,16)}var a=t>>8&255,r=255&t;return"rgba(".concat(t>>16&255,", ").concat(a,", ").concat(r,", ").concat(e,")")}if(n.startsWith("rgba("))return n.replace(/[^,]+(?=\))/,e.toString());if(n.startsWith("rgb("))return"rgba(".concat(n.slice(n.indexOf("(")+1,n.lastIndexOf(",")),", ").concat(e,")");throw new Error("Unsupported color format")}((0,d.RQ)(),.3)),i.length>0?{key:t,children:i,label:s,style:l}:{key:t,label:s,style:l}}var l=[s({text:(0,d.sR)().dashboard,link:"/index",selectIcon:(0,z.jsx)(W.Z,{style:{fontSize:24}}),icon:(0,z.jsx)(E.Z,{style:{fontSize:24}})},"/index",[]),s({text:(0,d.sR)()["admin.log.edit"],link:"/article-edit",selectIcon:(0,z.jsx)(M.Z,{style:{fontSize:24}}),icon:(0,z.jsx)(P.Z,{style:{fontSize:24}})},"/article-edit",[]),s({text:(0,d.sR)().blogManage,link:"/article",selectIcon:(0,z.jsx)(L.Z,{style:{fontSize:24}}),icon:(0,z.jsx)(H.Z,{style:{fontSize:24}})},"/article",[]),s({text:(0,d.sR)()["admin.comment.manage"],link:"/comment",selectIcon:(0,z.jsx)(Q.Z,{style:{fontSize:24}}),icon:(0,z.jsx)(Q.Z,{style:{fontSize:24}})},"/comment",[]),s({text:(0,d.sR)()["admin.plugin.manage"],link:"/plugin",selectIcon:(0,z.jsx)(D.Z,{style:{fontSize:24}}),icon:(0,z.jsx)(U.Z,{style:{fontSize:24}})},"/plugin",[]),s({text:(0,d.sR)()["admin.setting"],link:"/website",selectIcon:(0,z.jsx)(A.Z,{style:{fontSize:24}}),icon:(0,z.jsx)(T.Z,{style:{fontSize:24}})},"/website",[]),s({text:(0,d.sR)()["admin.more"],link:"#more",selectIcon:(0,z.jsx)(V.Z,{style:{fontSize:24}}),icon:(0,z.jsx)(_.Z,{style:{fontSize:24}})},"/more",[s({text:(0,d.sR)()["admin.type.manage"],link:"/article-type",selectIcon:(0,z.jsx)("span",{}),icon:(0,z.jsx)("span",{})},"/article-type",[]),s({text:(0,d.sR)()["admin.link.manage"],link:"/link",selectIcon:(0,z.jsx)("span",{}),icon:(0,z.jsx)("span",{})},"/link",[]),s({text:(0,d.sR)()["admin.nav.manage"],link:"/nav",selectIcon:(0,z.jsx)("span",{}),icon:(0,z.jsx)("span",{})},"/nav",[])])],o=function(){return""===n.pathname?"/index":n.pathname.startsWith("/website")?"/website":"/link"===n.pathname||"/nav"===n.pathname||"/article-type"===n.pathname?"/more":n.pathname},c=o(),u=(0,m.useState)(c),h=(0,i.Z)(u,2),p=h[0],g=h[1];return(0,m.useEffect)((function(){g(o())}),[n]),(0,z.jsxs)(z.Fragment,{children:[r,(0,z.jsx)(q.Z,{selectedKeys:[p],items:l,theme:f.ZP.isDarkMode()?"light":"dark",style:{minHeight:"100%",backgroundColor:f.ZP.isDarkMode()?"#1f1f1f":"#001529",borderInlineEnd:"unset"}})]})},O=t(88433),Y=t(38475),X=t(30695),G=t(88110),J=t(30168),$=(0,t(65210).ZP)("div")(B||(B=(0,J.Z)(["\n    .ant-menu-item {\n        width: 100%;\n    }\n\n    #logo {\n        height: 64px;\n        padding-left: 23px;\n        padding-right: 23px;\n        overflow: hidden;\n        font-size: 25px;\n        display: inline-flex;\n        color: #ffffff;\n    }\n\n    .ant-layout-content {\n        padding-left: 12px;\n        padding-right: 12px;\n    }\n\n    .ant-layout-footer {\n        padding: 20px;\n    }\n\n    .ant-layout-footer-copyright {\n        display: block;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n    }\n\n    .ant-layout-header {\n        padding: 0;\n    }\n\n    li.ant-menu-item > a {\n        color: #ffffff;\n    }\n\n    .ant-menu-inline,\n    .ant-menu-vertical,\n    .ant-menu-vertical-left {\n        border: 0;\n    }\n\n    li.ant-menu-item-active > a:hover {\n        color: #ffffff;\n    }\n\n    .ant-menu-item .anticon,\n    .ant-menu-submenu-title .anticon {\n        margin-top: 12px;\n        display: block;\n        font-size: 25px;\n        margin-right: 0;\n    }\n\n    .ant-menu-item > a > span,\n    .ant-menu-submenu-title > span {\n        display: block;\n        font-size: 12px;\n        margin-right: 0;\n        text-align: center !important;\n    }\n\n    .ant-menu-vertical > .ant-menu-item,\n    .ant-menu-vertical-left > .ant-menu-item,\n    .ant-menu-vertical-right > .ant-menu-item,\n    .ant-menu-inline > .ant-menu-item,\n    .ant-menu-vertical > .ant-menu-submenu > .ant-menu-submenu-title,\n    .ant-menu-vertical-left > .ant-menu-submenu > .ant-menu-submenu-title,\n    .ant-menu-vertical-right > .ant-menu-submenu > .ant-menu-submenu-title,\n    .ant-menu-inline > .ant-menu-submenu > .ant-menu-submenu-title {\n        height: 72px;\n        padding: 0;\n    }\n\n    .ant-menu-sub > .ant-menu-item {\n        font-size: 14px;\n        height: 40px;\n    }\n\n    .ant-menu-submenu {\n        height: 72px;\n    }\n\n    .ant-menu-submenu-title > i {\n        display: none;\n    }\n\n    .ant-menu-submenu-title {\n        margin: 0;\n    }\n\n    .ant-menu-submenu-title:hover {\n        color: #ffffff;\n    }\n\n    h3.page-header {\n        margin-top: 20px;\n        border-left: 3px solid ",";\n        padding-left: 5px;\n        font-size: 1.75rem;\n    }\n\n    .userAvatarImg {\n        width: 40px;\n        height: 40px;\n        border-radius: 50%;\n    }\n\n    .ant-menu-vertical .ant-menu-item:not(:last-child),\n    .ant-menu-vertical-left .ant-menu-item:not(:last-child),\n    .ant-menu-vertical-right .ant-menu-item:not(:last-child),\n    .ant-menu-inline .ant-menu-item:not(:last-child) {\n        margin-bottom: 0;\n    }\n\n    .ant-menu-vertical .ant-menu-item,\n    .ant-menu-vertical-left .ant-menu-item,\n    .ant-menu-vertical-right .ant-menu-item,\n    .ant-menu-inline .ant-menu-item,\n    .ant-menu-vertical .ant-menu-submenu-title,\n    .ant-menu-vertical-left .ant-menu-submenu-title,\n    .ant-menu-vertical-right .ant-menu-submenu-title,\n    .ant-menu-inline .ant-menu-submenu-title {\n        margin: 0;\n    }\n\n    .ant-upload-list {\n        display: none;\n    }\n\n    .ant-menu-submenu-title {\n        margin: 0;\n        color: white;\n        border-radius: 0;\n        width: 100%;\n    }\n\n    ul {\n        margin-bottom: 0;\n    }\n\n    .ant-menu-item .anticon,\n    .ant-menu-submenu-title .anticon {\n        font-size: 24px;\n    }\n\n    .ant-typography h3,\n    h3.ant-typography {\n        margin-bottom: 0.5em;\n        font-weight: 600;\n        font-size: 24px;\n        line-height: 1.35;\n    }\n\n    .ant-typography h4,\n    h4.ant-typography {\n        margin-bottom: 0.5em;\n        font-weight: 600;\n        font-size: 20px;\n        line-height: 1.4;\n    }\n\n    .ant-menu {\n        text-align: center;\n        box-shadow: none;\n    }\n\n    .ant-menu .menu-title {\n        margin-left: 0 !important;\n        font-size: 12px;\n    }\n\n    .ant-form-item-explain-error {\n        color: #ff4d4f;\n    }\n\n    .ant-form-item-has-error .ant-radio-group {\n        border: 1px solid #ff4d4f;\n        border-radius: 6px;\n    }\n\n    .ant-upload {\n        padding: 0 !important;\n        box-sizing: content-box;\n    }\n\n    .ant-input-search-button {\n        background-color: "," !important;\n    }\n\n    .ant-input-search-button:hover {\n        background-color: "," !important;\n    }\n\n    .ant-input-search-button:active {\n        background-color: "," !important;\n    }\n"])),(0,d.RQ)(),(0,d.RQ)(),(0,d.RQ)(),(0,d.RQ)()),nn=t(99178),en=t(83069),tn=l.Z.Header,an=l.Z.Content,rn=l.Z.Sider,sn=function(n){var e=n.offline,t=n.children,h=n.loading,p=n.fullScreen,g=(0,m.useState)(null===O.qj||void 0===O.qj?void 0:O.qj.user),x=(0,i.Z)(g,2),b=x[0],y=x[1],j=(0,nn.Z)(),v="sliderOpen",Z=function(n){return window.innerWidth<576?(0,en.fM)(v):!0===n.xs},k=(0,m.useState)(window.innerWidth<576),w=(0,i.Z)(k,2),R=w[0],S=w[1],I=Z(j),C=(0,m.useState)(I),W=(0,i.Z)(C,2),E=W[0],M=W[1];(0,m.useEffect)((function(){void 0===b&&Y.Z.get("/api/admin/user").then((function(n){var e=n.data;y(e.data)}))}),[]);if((0,m.useEffect)((function(){M(Z(j)),S(!0===j.xs)}),[j]),void 0===j.xs)return(0,z.jsx)(z.Fragment,{});return(0,z.jsx)(G.Z,{children:(0,z.jsxs)($,{children:[(0,z.jsxs)(tn,{style:{display:p?"none":"flex",justifyContent:"space-between",backgroundColor:f.ZP.isDarkMode()?"#1f1f1f":"#011529"},children:[function(){var n=(0,z.jsx)("a",{href:(0,d.sR)().homeUrl+"?spm=admin&buildId="+(0,d.sR)().buildId,id:"logo",target:"_blank",title:(0,d.sR)().websiteTitle,rel:"noopener noreferrer",children:(0,z.jsx)(a.Z,{})});return R?(0,z.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start"},children:[(0,z.jsx)("div",{style:{textAlign:"center",width:70,height:"100%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},onClick:function(){var n=!E;(0,en.se)(v,n),M(n)},children:(0,z.jsx)(o.ZP,{type:"primary",children:E?(0,z.jsx)(r.Z,{}):(0,z.jsx)(s.Z,{})})}),n]}):n}(),e&&(0,z.jsx)("span",{style:{display:"inline-block",textAlign:"center",fontSize:20,paddingLeft:24,userSelect:"none",color:(0,d.RQ)()},children:(0,d.sR)()["admin.offline.desc"]}),b&&(0,z.jsx)(F,{offline:e,data:b})]}),(0,z.jsxs)(c.Z,{style:{transition:"all .2s ease",position:"relative",minHeight:"calc(100vh - 64px)"},children:[(0,z.jsx)(rn,{width:70,style:{opacity:p||E?0:1,position:"absolute",left:E?"-70px":"0",height:"100%",transform:p||E?"translateX(-100%)":"translateX(0)",backgroundColor:f.ZP.isDarkMode()?"#1f1f1f":"#001529"},children:(0,z.jsx)(N,{})}),(0,z.jsx)(u.Z,{style:{flex:1,width:100,minHeight:p?0:1,transition:"margin-left .2s ease",marginLeft:E?0:70},children:(0,z.jsx)(l.Z,{style:{minHeight:"calc(100vh - 64px)",overflow:p?"hidden":"auto"},children:(0,z.jsxs)(an,{style:{paddingRight:p?0:12,paddingLeft:p?0:12,paddingBottom:p?0:12},children:[h&&(0,z.jsx)(X.Z,{}),t]})})})]})]})})}}}]);