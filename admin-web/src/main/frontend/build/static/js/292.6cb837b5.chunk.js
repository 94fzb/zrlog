"use strict";(self.webpackChunkadmin_web_frontend=self.webpackChunkadmin_web_frontend||[]).push([[292],{8894:function(n,e,t){var i=t(9439),a=t(8391),s=t(8773),r=t(8106),l=t(1522),o=t(9551),d=t(3712);e.Z=function(n){var e=n.children,t=(0,s.TH)(),c=(0,s.s0)(),u="true"===sessionStorage.getItem("loaded")||!(0,o.E)(),m=(0,a.useState)(u),f=(0,i.Z)(m,2),h=f[0],p=f[1];return(0,a.useEffect)((function(){if(!h){var n=(0,r.rb)();return sessionStorage.setItem("loaded","true"),n&&n!==(0,l.a9)(t)?(console.log((0,l.a9)(t)+" redirecting to last opened page:",n),void c(n)):void 0}}),[]),(0,a.useEffect)((function(){if((0,o.E)()){var n=(0,l.a9)(t);if(h)"true"===sessionStorage.getItem("loaded")&&(n.startsWith("/500")||n.startsWith("/404")||n.startsWith("/403")||n.startsWith("/offline")||(0,r.qD)(n));else{var e=(0,r.rb)();(void 0===e||null===e||e===n)&&p(!0)}}}),[t]),h?(0,d.jsx)(d.Fragment,{children:e}):(0,d.jsx)(d.Fragment,{})}},7292:function(n,e,t){t.r(e),t.d(e,{default:function(){return en}});var i=t(9439),a=t(168),s=t(194),r=t(9467),l=t(153),o=t(535),d=t(7489),c=t(3561),u=t(8391),m=t(9551),f=t(3433),h=t(2350),p=t(7814),g=t(9348),x=t(874),b=t(634),y=t(5781),j=t(5536),v=t(5025),Z=t(4581),k=t(1474),w=t(3712),R=l.Z.Text,S=function(n){var e,t=n.data,i=n.offline,a=function(n){var e,a=[{key:"1",label:(0,w.jsxs)(j.rU,{to:"/user",children:[(0,w.jsx)(h.Z,{}),(0,w.jsx)(R,{style:{paddingLeft:"5px",paddingRight:16},children:n["admin.user.info"]})]})},{key:"2",label:(0,w.jsxs)(j.rU,{to:"/user-update-password",children:[(0,w.jsx)(p.Z,{}),(0,w.jsx)(R,{style:{paddingLeft:"5px",paddingRight:16},children:n["admin.changePwd"]})]})},{key:"-",label:(0,w.jsx)(k.Z,{style:{marginTop:"5px",marginBottom:"5px",userSelect:"none",cursor:"none"}})}];return i||a.push({key:"3",label:(0,w.jsxs)("a",{href:"./admin/logout",children:[(0,w.jsx)(g.Z,{}),(0,w.jsx)(R,{style:{paddingLeft:"5px",paddingRight:16},children:n["admin.user.logout"]})]})}),null!==(e=t.lastVersion)&&void 0!==e&&e.upgrade&&(a=[{key:"0",label:(0,w.jsx)(j.rU,{to:"/upgrade",children:(0,w.jsxs)(y.Z,{dot:!0,children:[(0,w.jsx)(x.Z,{}),(0,w.jsxs)(R,{style:{paddingLeft:"6px"},children:[n.newVersion," - (",t.lastVersion.version.version,"#",t.lastVersion.version.type,")"]})]})})}].concat((0,f.Z)(a))),a}((0,c.sR)());return(0,w.jsx)(v.Z,{menu:{items:a},placement:"bottom",arrow:{pointAtCenter:!0},children:(0,w.jsxs)("div",{style:{color:"#ffffff",height:"64px",borderRadius:0,marginRight:16,float:"right"},children:[(0,w.jsx)(Z.Z,{preview:!1,fallback:c.ZP.getFillBackImg(),className:"userAvatarImg",src:t.header,style:{cursor:"pointer",width:40,height:40}}),(0,w.jsx)(y.Z,{dot:null===(e=t.lastVersion)||void 0===e?void 0:e.upgrade,children:(0,w.jsx)(R,{style:{color:"#ffffff",paddingLeft:8},children:t.userName})}),(0,w.jsx)(b.Z,{})]})})},z=t(7460),I=t(301),F=t(4901),W=t(6977),E=t(3806),L=t(6389),T=t(6348),C=t(9209),H=t(9987),Q=t(5808),V=t(5936),_=t(303),M=t(8833),U=t(3163),A=t(9889),D=t(8773);var q,N=function(){var n=(0,D.TH)();function e(e,t,i){var a=function(e){return n.pathname.startsWith("/website")&&e.link.startsWith("/website")||n.pathname===e.link?{selected:!0,icon:e.selectIcon}:"#more"!==e.link?{selected:!1,icon:e.icon}:"/link"===n.pathname||"/nav"===n.pathname||"/article-type"===n.pathname?{selected:!0,icon:e.selectIcon}:{selected:!1,icon:e.icon}}(e),s=(0,w.jsxs)(j.rU,{to:e.link,style:{color:a.selected&&m.Z.isDarkMode()?(0,c.RQ)():"#FFF"},children:[a.icon,(0,w.jsx)("span",{className:"menu-title",children:e.text})]}),r={margin:0,borderRadius:0,width:"100%",color:"#FFF"};return a.selected&&(r.background=function(n,e){if(n.startsWith("#")){var t,i=n.slice(1);if(3===i.length)t=65793*parseInt(i,16);else{if(6!==i.length)throw new Error("Invalid hexadecimal color format");t=parseInt(i,16)}var a=t>>8&255,s=255&t;return"rgba(".concat(t>>16&255,", ").concat(a,", ").concat(s,", ").concat(e,")")}if(n.startsWith("rgba("))return n.replace(/[^,]+(?=\))/,e.toString());if(n.startsWith("rgb("))return"rgba(".concat(n.slice(n.indexOf("(")+1,n.lastIndexOf(",")),", ").concat(e,")");throw new Error("Unsupported color format")}((0,c.RQ)(),.3)),i.length>0?{key:t,children:i,label:s,style:r}:{key:t,label:s,style:r}}var t=[e({text:(0,c.sR)().dashboard,link:"/index",selectIcon:(0,w.jsx)(I.Z,{style:{fontSize:24}}),icon:(0,w.jsx)(F.Z,{style:{fontSize:24}})},"/index",[]),e({text:(0,c.sR)()["admin.log.edit"],link:"/article-edit",selectIcon:(0,w.jsx)(W.Z,{style:{fontSize:24}}),icon:(0,w.jsx)(E.Z,{style:{fontSize:24}})},"/article-edit",[]),e({text:(0,c.sR)().blogManage,link:"/article",selectIcon:(0,w.jsx)(L.Z,{style:{fontSize:24}}),icon:(0,w.jsx)(T.Z,{style:{fontSize:24}})},"/article",[]),e({text:(0,c.sR)()["admin.comment.manage"],link:"/comment",selectIcon:(0,w.jsx)(C.Z,{style:{fontSize:24}}),icon:(0,w.jsx)(C.Z,{style:{fontSize:24}})},"/comment",[]),e({text:(0,c.sR)()["admin.plugin.manage"],link:"/plugin",selectIcon:(0,w.jsx)(H.Z,{style:{fontSize:24}}),icon:(0,w.jsx)(Q.Z,{style:{fontSize:24}})},"/plugin",[]),e({text:(0,c.sR)()["admin.setting"],link:"/website",selectIcon:(0,w.jsx)(V.Z,{style:{fontSize:24}}),icon:(0,w.jsx)(_.Z,{style:{fontSize:24}})},"/website",[]),e({text:(0,c.sR)()["admin.more"],link:"#more",selectIcon:(0,w.jsx)(M.Z,{style:{fontSize:24}}),icon:(0,w.jsx)(U.Z,{style:{fontSize:24}})},"/more",[e({text:(0,c.sR)()["admin.type.manage"],link:"/article-type",selectIcon:(0,w.jsx)("span",{}),icon:(0,w.jsx)("span",{})},"/article-type",[]),e({text:(0,c.sR)()["admin.link.manage"],link:"/link",selectIcon:(0,w.jsx)("span",{}),icon:(0,w.jsx)("span",{})},"/link",[]),e({text:(0,c.sR)()["admin.nav.manage"],link:"/nav",selectIcon:(0,w.jsx)("span",{}),icon:(0,w.jsx)("span",{})},"/nav",[])])],a=function(){return""===n.pathname?"/index":n.pathname.startsWith("/website")?"/website":"/link"===n.pathname||"/nav"===n.pathname||"/article-type"===n.pathname?"/more":n.pathname},s=a(),r=(0,u.useState)(s),l=(0,i.Z)(r,2),o=l[0],d=l[1];return(0,u.useEffect)((function(){d(a())}),[n]),(0,w.jsx)(A.Z,{selectedKeys:[o],items:t,theme:m.Z.isDarkMode()?"light":"dark"})},P=t(4671),B=t(6146),O=t(2677),K=t(8894),G=r.Z.Header,J=r.Z.Content,X=r.Z.Footer,Y=r.Z.Sider,$=l.Z.Text,nn=(0,z.ZP)("div")(q||(q=(0,a.Z)(["\n    .ant-menu-item {\n        width: 100%;\n    }\n\n    #logo {\n        height: 64px;\n        padding-left: 23px;\n        padding-right: 23px;\n        overflow: hidden;\n        font-size: 25px;\n        display: inline-flex;\n        color: #ffffff;\n    }\n\n    .ant-layout-content {\n        padding-left: 12px;\n        padding-right: 12px;\n    }\n\n    .ant-layout-footer {\n        padding: 20px;\n    }\n\n    .ant-layout-footer-copyright {\n        display: block;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n    }\n\n    .ant-layout-header {\n        padding: 0;\n    }\n\n    li.ant-menu-item > a {\n        color: #ffffff;\n    }\n\n    .ant-menu-inline,\n    .ant-menu-vertical,\n    .ant-menu-vertical-left {\n        border: 0;\n    }\n\n    li.ant-menu-item-active > a:hover {\n        color: #ffffff;\n    }\n\n    .ant-menu-item .anticon,\n    .ant-menu-submenu-title .anticon {\n        margin-top: 12px;\n        display: block;\n        font-size: 25px;\n        margin-right: 0;\n    }\n\n    .ant-menu-item > a > span,\n    .ant-menu-submenu-title > span {\n        display: block;\n        font-size: 12px;\n        margin-right: 0;\n        text-align: center !important;\n    }\n\n    .ant-menu-vertical > .ant-menu-item,\n    .ant-menu-vertical-left > .ant-menu-item,\n    .ant-menu-vertical-right > .ant-menu-item,\n    .ant-menu-inline > .ant-menu-item,\n    .ant-menu-vertical > .ant-menu-submenu > .ant-menu-submenu-title,\n    .ant-menu-vertical-left > .ant-menu-submenu > .ant-menu-submenu-title,\n    .ant-menu-vertical-right > .ant-menu-submenu > .ant-menu-submenu-title,\n    .ant-menu-inline > .ant-menu-submenu > .ant-menu-submenu-title {\n        height: 72px;\n        padding: 0;\n    }\n\n    .ant-menu-sub > .ant-menu-item {\n        font-size: 14px;\n        height: 40px;\n    }\n\n    .ant-menu-submenu {\n        height: 72px;\n    }\n\n    .ant-menu-submenu-title > i {\n        display: none;\n    }\n\n    .ant-menu-submenu-title {\n        margin: 0;\n    }\n\n    .ant-menu-submenu-title:hover {\n        color: #ffffff;\n    }\n\n    h3.page-header {\n        margin-top: 20px;\n        border-left: 3px solid ",";\n        padding-left: 5px;\n        font-size: 1.75rem;\n    }\n\n    .userAvatarImg {\n        width: 40px;\n        height: 40px;\n        border-radius: 50%;\n    }\n\n    .ant-menu-vertical .ant-menu-item:not(:last-child),\n    .ant-menu-vertical-left .ant-menu-item:not(:last-child),\n    .ant-menu-vertical-right .ant-menu-item:not(:last-child),\n    .ant-menu-inline .ant-menu-item:not(:last-child) {\n        margin-bottom: 0;\n    }\n\n    .ant-menu-vertical .ant-menu-item,\n    .ant-menu-vertical-left .ant-menu-item,\n    .ant-menu-vertical-right .ant-menu-item,\n    .ant-menu-inline .ant-menu-item,\n    .ant-menu-vertical .ant-menu-submenu-title,\n    .ant-menu-vertical-left .ant-menu-submenu-title,\n    .ant-menu-vertical-right .ant-menu-submenu-title,\n    .ant-menu-inline .ant-menu-submenu-title {\n        margin: 0;\n    }\n\n    .ant-upload-list {\n        display: none;\n    }\n\n    .ant-menu-submenu-title {\n        margin: 0;\n        color: white;\n        border-radius: 0;\n        width: 100%;\n    }\n\n    ul {\n        margin-bottom: 0;\n    }\n\n    .ant-menu-item .anticon,\n    .ant-menu-submenu-title .anticon {\n        font-size: 24px;\n    }\n\n    .ant-typography h3,\n    h3.ant-typography {\n        margin-bottom: 0.5em;\n        font-weight: 600;\n        font-size: 24px;\n        line-height: 1.35;\n    }\n\n    .ant-typography h4,\n    h4.ant-typography {\n        margin-bottom: 0.5em;\n        font-weight: 600;\n        font-size: 20px;\n        line-height: 1.4;\n    }\n\n    .ant-menu {\n        text-align: center;\n        box-shadow: none;\n    }\n\n    .ant-menu .menu-title {\n        margin-left: 0 !important;\n        font-size: 12px;\n    }\n\n    .ant-form-item-explain-error {\n        color: #ff4d4f;\n    }\n\n    .ant-form-item-has-error .ant-radio-group {\n        border: 1px solid #ff4d4f;\n        border-radius: 6px;\n    }\n\n    .ant-upload {\n        padding: 0 !important;\n        box-sizing: content-box;\n    }\n\n    .ant-input-search-button {\n        background-color: "," !important;\n    }\n\n    .ant-input-search-button:hover {\n        background-color: "," !important;\n    }\n\n    .ant-input-search-button:active {\n        background-color: "," !important;\n    }\n"])),(0,c.RQ)(),(0,c.RQ)(),(0,c.RQ)(),(0,c.RQ)()),en=function(n){var e=n.offline,t=n.children,a=n.loading,l=n.fullScreen,f=(0,u.useState)(null===P.qj||void 0===P.qj?void 0:P.qj.user),h=(0,i.Z)(f,2),p=h[0],g=h[1];return(0,u.useEffect)((function(){void 0===p&&B.Z.get("/api/admin/user").then((function(n){var e=n.data;g(e.data)}))}),[]),(0,w.jsx)(K.Z,{children:(0,w.jsxs)(nn,{children:[(0,w.jsxs)(G,{hidden:l,style:{display:"flex",justifyContent:"space-between",backgroundColor:m.Z.isDarkMode()?"#1f1f1f":"#011529"},children:[(0,w.jsxs)("a",{href:(0,c.sR)().homeUrl+"?spm=admin&buildId="+(0,c.sR)().buildId,id:"logo",target:"_blank",title:(0,c.sR)().websiteTitle,rel:"noopener noreferrer",children:[(0,w.jsx)(s.Z,{}),e&&(0,w.jsx)("span",{style:{display:"inline-block",textAlign:"center",fontSize:20,paddingLeft:24,userSelect:"none",color:(0,c.RQ)()},children:(0,c.sR)()["admin.offline.desc"]})]}),p&&(0,w.jsx)(S,{offline:e,data:p})]}),(0,w.jsxs)(o.Z,{children:[(0,w.jsx)(Y,{hidden:l,width:70,style:{minHeight:"100vh",backgroundColor:m.Z.isDarkMode()?"#1f1f1f":"#001529"},children:(0,w.jsx)(N,{})}),(0,w.jsx)(d.Z,{style:{flex:1,width:100,minHeight:l?0:1},children:(0,w.jsxs)(r.Z,{style:{minHeight:"100vh",overflow:l?"hidden":"auto"},children:[(0,w.jsxs)(J,{style:{paddingRight:l?0:12,paddingLeft:l?0:12},children:[a&&(0,w.jsx)(O.Z,{}),t]}),(0,w.jsx)(X,{hidden:l,children:(0,w.jsxs)(o.Z,{children:[(0,w.jsx)(d.Z,{xs:24,md:12,children:(0,w.jsx)("div",{className:"ant-layout-footer-copyright",dangerouslySetInnerHTML:{__html:(0,c.sR)().copyrightTips+". All Rights Reserved."}})}),(0,w.jsx)(d.Z,{xs:0,md:12,children:(0,w.jsxs)($,{style:{float:"right"},children:["Version ",(0,c.sR)().currentVersion]})})]})})]})})]})]})})}}}]);