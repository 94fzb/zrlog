"use strict";(self.webpackChunkadmin_web_frontend=self.webpackChunkadmin_web_frontend||[]).push([[423],{88110:function(n,e,t){var i=t(29439),a=t(47313),r=t(58467),s=t(83069),l=t(82294),o=t(57743),c=t(46417);e.Z=function(n){var e=n.children,t=(0,r.TH)(),d=(0,r.s0)(),u="true"===sessionStorage.getItem("loaded")||!(0,o.Ee)(),m=(0,a.useState)(u),f=(0,i.Z)(m,2),h=f[0],p=f[1];return(0,a.useEffect)((function(){if(!h){var n=(0,s.rb)();return sessionStorage.setItem("loaded","true"),n&&n!==(0,l.a9)(t)?(console.log((0,l.a9)(t)+" redirecting to last opened page:",n),void d(n)):void 0}}),[]),(0,a.useEffect)((function(){if((0,o.Ee)()){var n=(0,l.a9)(t);if(h)"true"===sessionStorage.getItem("loaded")&&(n.startsWith("/500")||n.startsWith("/404")||n.startsWith("/403")||n.startsWith("/offline")||(0,s.qD)(n));else{var e=(0,s.rb)();(void 0===e||null===e||e===n)&&p(!0)}}}),[t]),h?(0,c.jsx)(c.Fragment,{children:e}):(0,c.jsx)(c.Fragment,{})}},90423:function(n,e,t){t.r(e),t.d(e,{default:function(){return ln}});var i=t(29439),a=t(36252),r=t(59529),s=t(37272),l=t(62894),o=t(26303),c=t(68197),d=t(59624),u=t(95729),m=t(88783),f=t(47313),h=t(57743),p=t(93433),g=t(39548),x=t(60647),b=t(62458),y=t(31714),v=t(32344),j=t(51729),Z=t(55615),k=t(15413),w=t(2135),R=t(97410),S=t(21794),I=t(87785),z=t(82294),C=t(46417),F=j.Z.Text,W=function(n){var e,t=n.data,a=n.offline,r=Z.Z.useModal(),s=(0,i.Z)(r,2),l=s[0],o=s[1],c=function(n){var e,i=[{key:"1",label:(0,C.jsxs)(w.rU,{to:"/user",onClick:function(n){return(0,z.YK)(n,l)},children:[(0,C.jsx)(g.Z,{}),(0,C.jsx)(F,{style:{paddingLeft:"5px",paddingRight:16},children:n["admin.user.info"]})]})},{key:"2",label:(0,C.jsxs)(w.rU,{to:"/user-update-password",onClick:function(n){return(0,z.YK)(n,l)},children:[(0,C.jsx)(x.Z,{}),(0,C.jsx)(F,{style:{paddingLeft:"5px",paddingRight:16},children:n["admin.changePwd"]})]})},{key:"-",label:(0,C.jsx)(I.Z,{style:{marginTop:"5px",marginBottom:"5px",userSelect:"none",cursor:"none"}})}];return a||i.push({key:"3",label:(0,C.jsxs)("a",{href:"./admin/logout",children:[(0,C.jsx)(b.Z,{}),(0,C.jsx)(F,{style:{paddingLeft:"5px",paddingRight:16},children:n["admin.user.logout"]})]})}),null!==(e=t.lastVersion)&&void 0!==e&&e.upgrade&&(i=[{key:"0",label:(0,C.jsx)(w.rU,{to:"/upgrade",children:(0,C.jsxs)(k.Z,{dot:!0,children:[(0,C.jsx)(y.Z,{}),(0,C.jsxs)(F,{style:{paddingLeft:"6px"},children:[n.newVersion," - (",t.lastVersion.version.version,"#",t.lastVersion.version.type,")"]})]})})}].concat((0,p.Z)(i))),i}((0,m.sR)());return(0,C.jsxs)(C.Fragment,{children:[o,(0,C.jsx)(R.Z,{menu:{items:c},placement:"bottom",arrow:{pointAtCenter:!0},children:(0,C.jsxs)("div",{style:{color:"#ffffff",height:"64px",borderRadius:0,marginRight:16,float:"right"},children:[(0,C.jsx)(S.Z,{preview:!1,fallback:m.ZP.getFillBackImg(),className:"userAvatarImg",src:t.header,style:{cursor:"pointer",width:40,height:40}}),(0,C.jsx)(k.Z,{dot:null===(e=t.lastVersion)||void 0===e?void 0:e.upgrade,children:(0,C.jsx)(F,{style:{color:"#ffffff",paddingLeft:8},children:t.userName})}),(0,C.jsx)(v.Z,{})]})})]})},E=t(24983),M=t(69922),P=t(60563),L=t(95366),H=t(92155),Q=t(30804),D=t(64426),T=t(95090),U=t(12675),A=t(42068),V=t(69893),_=t(19009),q=t(98447),B=t(75814),K=t(58467);var N,O=function(){var n=(0,K.TH)(),e=Z.Z.useModal(),t=(0,i.Z)(e,2),a=t[0],r=t[1];function s(e,t,i){var r=function(e){return n.pathname.startsWith("/website")&&e.link.startsWith("/website")||n.pathname===e.link?{selected:!0,icon:e.selectIcon}:"#more"!==e.link?{selected:!1,icon:e.icon}:"/link"===n.pathname||"/nav"===n.pathname||"/article-type"===n.pathname?{selected:!0,icon:e.selectIcon}:{selected:!1,icon:e.icon}}(e),s=(0,C.jsxs)(w.rU,{to:e.link,style:{color:r.selected&&h.ZP.isDarkMode()?(0,m.RQ)():"#FFF"},onClick:function(n){(0,z.YK)(n,a)},children:[r.icon,(0,C.jsx)("span",{className:"menu-title",children:e.text})]}),l={margin:0,borderRadius:0,width:"100%",color:"#FFF"};return r.selected&&(l.background=function(n,e){if(n.startsWith("#")){var t,i=n.slice(1);if(3===i.length)t=65793*parseInt(i,16);else{if(6!==i.length)throw new Error("Invalid hexadecimal color format");t=parseInt(i,16)}var a=t>>8&255,r=255&t;return"rgba(".concat(t>>16&255,", ").concat(a,", ").concat(r,", ").concat(e,")")}if(n.startsWith("rgba("))return n.replace(/[^,]+(?=\))/,e.toString());if(n.startsWith("rgb("))return"rgba(".concat(n.slice(n.indexOf("(")+1,n.lastIndexOf(",")),", ").concat(e,")");throw new Error("Unsupported color format")}((0,m.RQ)(),.3)),i.length>0?{key:t,children:i,label:s,style:l}:{key:t,label:s,style:l}}var l=[s({text:(0,m.sR)().dashboard,link:"/index",selectIcon:(0,C.jsx)(E.Z,{style:{fontSize:24}}),icon:(0,C.jsx)(M.Z,{style:{fontSize:24}})},"/index",[]),s({text:(0,m.sR)()["admin.log.edit"],link:"/article-edit",selectIcon:(0,C.jsx)(P.Z,{style:{fontSize:24}}),icon:(0,C.jsx)(L.Z,{style:{fontSize:24}})},"/article-edit",[]),s({text:(0,m.sR)().blogManage,link:"/article",selectIcon:(0,C.jsx)(H.Z,{style:{fontSize:24}}),icon:(0,C.jsx)(Q.Z,{style:{fontSize:24}})},"/article",[]),s({text:(0,m.sR)()["admin.comment.manage"],link:"/comment",selectIcon:(0,C.jsx)(D.Z,{style:{fontSize:24}}),icon:(0,C.jsx)(D.Z,{style:{fontSize:24}})},"/comment",[]),s({text:(0,m.sR)()["admin.plugin.manage"],link:"/plugin",selectIcon:(0,C.jsx)(T.Z,{style:{fontSize:24}}),icon:(0,C.jsx)(U.Z,{style:{fontSize:24}})},"/plugin",[]),s({text:(0,m.sR)()["admin.setting"],link:"/website",selectIcon:(0,C.jsx)(A.Z,{style:{fontSize:24}}),icon:(0,C.jsx)(V.Z,{style:{fontSize:24}})},"/website",[]),s({text:(0,m.sR)()["admin.more"],link:"#more",selectIcon:(0,C.jsx)(_.Z,{style:{fontSize:24}}),icon:(0,C.jsx)(q.Z,{style:{fontSize:24}})},"/more",[s({text:(0,m.sR)()["admin.type.manage"],link:"/article-type",selectIcon:(0,C.jsx)("span",{}),icon:(0,C.jsx)("span",{})},"/article-type",[]),s({text:(0,m.sR)()["admin.link.manage"],link:"/link",selectIcon:(0,C.jsx)("span",{}),icon:(0,C.jsx)("span",{})},"/link",[]),s({text:(0,m.sR)()["admin.nav.manage"],link:"/nav",selectIcon:(0,C.jsx)("span",{}),icon:(0,C.jsx)("span",{})},"/nav",[])])],o=function(){return""===n.pathname?"/index":n.pathname.startsWith("/website")?"/website":"/link"===n.pathname||"/nav"===n.pathname||"/article-type"===n.pathname?"/more":n.pathname},c=o(),d=(0,f.useState)(c),u=(0,i.Z)(d,2),p=u[0],g=u[1];return(0,f.useEffect)((function(){g(o())}),[n]),(0,C.jsxs)(C.Fragment,{children:[r,(0,C.jsx)(B.Z,{selectedKeys:[p],items:l,theme:h.ZP.isDarkMode()?"light":"dark",style:{minHeight:"100%",backgroundColor:h.ZP.isDarkMode()?"#1f1f1f":"#001529",borderInlineEnd:"unset"}})]})},Y=t(88433),X=t(38475),G=t(30695),J=t(88110),$=t(30168),nn=(0,t(65210).ZP)("div")(N||(N=(0,$.Z)(["\n    .ant-menu-item {\n        width: 100%;\n    }\n\n    #logo {\n        height: 64px;\n        padding-left: 23px;\n        padding-right: 23px;\n        overflow: hidden;\n        font-size: 25px;\n        display: inline-flex;\n        color: #ffffff;\n    }\n\n    .ant-layout-content {\n        padding-left: 12px;\n        padding-right: 12px;\n    }\n\n    .ant-layout-footer {\n        padding: 20px;\n    }\n\n    .ant-layout-footer-copyright {\n        display: block;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n    }\n\n    .ant-layout-header {\n        padding: 0;\n    }\n\n    li.ant-menu-item > a {\n        color: #ffffff;\n    }\n\n    .ant-menu-inline,\n    .ant-menu-vertical,\n    .ant-menu-vertical-left {\n        border: 0;\n    }\n\n    li.ant-menu-item-active > a:hover {\n        color: #ffffff;\n    }\n\n    .ant-menu-item .anticon,\n    .ant-menu-submenu-title .anticon {\n        margin-top: 12px;\n        display: block;\n        font-size: 25px;\n        margin-right: 0;\n    }\n\n    .ant-menu-item > a > span,\n    .ant-menu-submenu-title > span {\n        display: block;\n        font-size: 12px;\n        margin-right: 0;\n        text-align: center !important;\n    }\n\n    .ant-menu-vertical > .ant-menu-item,\n    .ant-menu-vertical-left > .ant-menu-item,\n    .ant-menu-vertical-right > .ant-menu-item,\n    .ant-menu-inline > .ant-menu-item,\n    .ant-menu-vertical > .ant-menu-submenu > .ant-menu-submenu-title,\n    .ant-menu-vertical-left > .ant-menu-submenu > .ant-menu-submenu-title,\n    .ant-menu-vertical-right > .ant-menu-submenu > .ant-menu-submenu-title,\n    .ant-menu-inline > .ant-menu-submenu > .ant-menu-submenu-title {\n        height: 72px;\n        padding: 0;\n    }\n\n    .ant-menu-sub > .ant-menu-item {\n        font-size: 14px;\n        height: 40px;\n    }\n\n    .ant-menu-submenu {\n        height: 72px;\n    }\n\n    .ant-menu-submenu-title > i {\n        display: none;\n    }\n\n    .ant-menu-submenu-title {\n        margin: 0;\n    }\n\n    .ant-menu-submenu-title:hover {\n        color: #ffffff;\n    }\n\n    h3.page-header {\n        margin-top: 20px;\n        border-left: 3px solid ",";\n        padding-left: 5px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        font-size: 1.75rem;\n    }\n\n    .userAvatarImg {\n        width: 40px;\n        height: 40px;\n        border-radius: 50%;\n    }\n\n    .ant-menu-vertical .ant-menu-item:not(:last-child),\n    .ant-menu-vertical-left .ant-menu-item:not(:last-child),\n    .ant-menu-vertical-right .ant-menu-item:not(:last-child),\n    .ant-menu-inline .ant-menu-item:not(:last-child) {\n        margin-bottom: 0;\n    }\n\n    .ant-menu-vertical .ant-menu-item,\n    .ant-menu-vertical-left .ant-menu-item,\n    .ant-menu-vertical-right .ant-menu-item,\n    .ant-menu-inline .ant-menu-item,\n    .ant-menu-vertical .ant-menu-submenu-title,\n    .ant-menu-vertical-left .ant-menu-submenu-title,\n    .ant-menu-vertical-right .ant-menu-submenu-title,\n    .ant-menu-inline .ant-menu-submenu-title {\n        margin: 0;\n    }\n\n    .ant-upload-list {\n        display: none;\n    }\n\n    .ant-menu-submenu-title {\n        margin: 0;\n        color: white;\n        border-radius: 0;\n        width: 100%;\n    }\n\n    ul {\n        margin-bottom: 0;\n    }\n\n    .ant-menu-item .anticon,\n    .ant-menu-submenu-title .anticon {\n        font-size: 24px;\n    }\n\n    .ant-typography h3,\n    h3.ant-typography {\n        margin-bottom: 0.5em;\n        font-weight: 600;\n        font-size: 24px;\n        line-height: 1.35;\n    }\n\n    .ant-typography h4,\n    h4.ant-typography {\n        margin-bottom: 0.5em;\n        font-weight: 600;\n        font-size: 20px;\n        line-height: 1.4;\n    }\n\n    .ant-menu {\n        text-align: center;\n        box-shadow: none;\n    }\n\n    .ant-menu .menu-title {\n        margin-left: 0 !important;\n        font-size: 12px;\n    }\n\n    .ant-form-item-explain-error {\n        color: #ff4d4f;\n    }\n\n    .ant-form-item-has-error .ant-radio-group {\n        border: 1px solid #ff4d4f;\n        border-radius: 6px;\n    }\n\n    .ant-upload {\n        padding: 0 !important;\n        box-sizing: content-box;\n    }\n\n    .ant-input-search-button {\n        background-color: "," !important;\n    }\n\n    .ant-input-search-button:hover {\n        background-color: "," !important;\n    }\n\n    .ant-input-search-button:active {\n        background-color: "," !important;\n    }\n"])),(0,m.RQ)(),(0,m.RQ)(),(0,m.RQ)(),(0,m.RQ)()),en=t(99178),tn=t(83069),an=l.Z.Header,rn=l.Z.Content,sn=l.Z.Sider,ln=function(n){var e=n.offline,t=n.children,p=n.loading,g=n.fullScreen,x=(0,f.useState)(null===Y.qj||void 0===Y.qj?void 0:Y.qj.user),b=(0,i.Z)(x,2),y=b[0],v=b[1],j=(0,en.Z)(),Z="sliderOpen",k=function(n){if(window.innerWidth<576){var e=(0,tn.fM)(Z);return void 0===e||null===e||e}return!0===n.xs},w=(0,f.useState)(window.innerWidth<576),R=(0,i.Z)(w,2),S=R[0],I=R[1],z=k(j),F=(0,f.useState)(z),E=(0,i.Z)(F,2),M=E[0],P=E[1];(0,f.useEffect)((function(){void 0===y&&X.Z.get("/api/admin/user").then((function(n){var e=n.data;v(e.data)}))}),[]);if((0,f.useEffect)((function(){P(k(j)),I(!0===j.xs)}),[j]),void 0===j.xs)return(0,C.jsx)(C.Fragment,{});return(0,C.jsx)(J.Z,{children:(0,C.jsxs)(nn,{children:[(0,C.jsxs)(an,{style:{display:g?"none":"flex",justifyContent:"space-between",backgroundColor:h.ZP.isDarkMode()?"#1f1f1f":"#011529"},children:[function(){var n=(0,C.jsx)("a",{href:(0,m.sR)().homeUrl+"?spm=admin&buildId="+(0,m.sR)().buildId,id:"logo",target:"_blank",title:(0,m.sR)().websiteTitle,rel:"noopener noreferrer",children:(0,C.jsx)(a.Z,{})});return S?(0,C.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start"},children:[(0,C.jsx)("div",{style:{textAlign:"center",width:70,height:"100%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},onClick:function(){var n=!M;(0,tn.se)(Z,n),P(n)},children:(0,C.jsx)(o.ZP,{type:"primary",children:M?(0,C.jsx)(r.Z,{}):(0,C.jsx)(s.Z,{})})}),n]}):n}(),e&&(0,C.jsx)("span",{style:{display:"inline-block",textAlign:"center",fontSize:20,paddingLeft:24,userSelect:"none",color:(0,m.RQ)()},children:(0,m.sR)()["admin.offline.desc"]}),y&&(0,C.jsx)(W,{offline:e,data:y})]}),(0,C.jsxs)(c.Z,{style:{transition:"all .2s ease",position:"relative",minHeight:"calc(100vh - 64px)"},children:[(0,C.jsx)(sn,{width:70,style:{opacity:g||M?0:1,position:"absolute",left:M?"-70px":"0",height:"100%",transform:g||M?"translateX(-100%)":"translateX(0)",backgroundColor:h.ZP.isDarkMode()?"#1f1f1f":"#001529"},children:(0,C.jsx)(O,{})}),(0,C.jsx)(d.Z,{style:{flex:1,width:100,minHeight:g?0:1,transition:"margin-left .2s ease",marginLeft:M||g?0:70},children:(0,C.jsx)(l.Z,{style:{minHeight:"calc(100vh - 64px)",overflow:g?"hidden":"auto"},children:(0,C.jsxs)(rn,{style:{paddingRight:g?0:12,paddingLeft:g?0:12,paddingBottom:g?0:12},children:[p&&(0,C.jsx)(G.Z,{}),t]})})})]}),(0,C.jsx)(u.Z.BackTop,{})]})})}}}]);