"use strict";(self.webpackChunkadmin_web_frontend=self.webpackChunkadmin_web_frontend||[]).push([[890],{1890:function(e,a,t){t.r(a);var n=t(1413),i=t(9439),l=t(8391),r=t(9012),s=t(7372),d=t(2933),p=t(3615),o=t(535),c=t(8881),h=t(1474),f=t(7849),u=t(4581),m=t(5897),x=t(517),g=t(5068),Z=t(6146),j=t(3561),y=t(4384),v=t(3712),M={labelCol:{span:8},wrapperCol:{span:16}},b=function(e){for(var a={},t=0,n=Object.entries(e.config);t<n.length;t++){var l=(0,i.Z)(n[t],2),r=l[0],s=l[1];a[r]=s.value}return a};a.default=function(e){var a=e.data,t=e.offline,w=b(a),C=(0,l.useState)({config:a.config,dataMap:w}),E=(0,i.Z)(C,2),T=E[0],k=E[1],F=r.Z.useApp().message,_=function(e,a){return"file"===a.type?(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(m.Z,{style:{width:"128px",height:"128px"},multiple:!1,onChange:function(a){return function(e,a){var t=e.file.status;"done"===t?(T.dataMap[a]=e.file.response.data.url,k((0,n.Z)((0,n.Z)({},T),{},{dataMap:T.dataMap}))):"error"===t&&F.error("".concat(e.file.name," file upload failed."))}(a,e)},name:"imgFile",action:"/api/admin/upload?dir=image",children:(0,v.jsx)(u.Z,{style:{borderRadius:8},preview:!1,height:128,width:128,src:T.dataMap[e]})})}):"switch"===a.htmlElementType?(0,v.jsx)(y.Z,{size:"small"}):"textarea"===a.htmlElementType||"large-textarea"===a.htmlElementType?(0,v.jsx)(x.Z,{rows:"large-textarea"===a.htmlElementType?20:5,placeholder:a.placeholder}):"hidden"===a.type?(0,v.jsx)(s.Z,{hidden:!0}):"colorPicker"===a.htmlElementType?(0,v.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center"},children:[(0,v.jsx)(d.Z,{value:T.dataMap[e],onChange:function(a){T.dataMap[e]=a.toHexString(),k((0,n.Z)((0,n.Z)({},T),{},{dataMap:T.dataMap}))}}),(0,v.jsx)("span",{style:{paddingLeft:8},children:T.dataMap[e]})]}):(0,v.jsx)(s.Z,{type:a.type,placeholder:a.placeholder})};return(0,l.useEffect)((function(){k({config:a.config,dataMap:b(a)})}),[a]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(c.Z,{className:"page-header",level:3,children:(0,j.sR)().templateConfig}),(0,v.jsx)(h.Z,{}),(0,v.jsx)(o.Z,{children:(0,v.jsx)(g.Z,{xs:24,style:{maxWidth:600},children:(0,v.jsxs)(p.Z,(0,n.Z)((0,n.Z)({onFinish:function(){Z.Z.post("/api/admin/template/config",T.dataMap).then((function(e){var a=e.data;a.error?F.error(a.message):F.success(a.message)}))},initialValues:T.dataMap,onValuesChange:function(e,a){return t=a,void k((0,n.Z)((0,n.Z)({},T),{},{dataMap:t}));var t}},M),{},{children:[function(){for(var e=[],a=0,t=Object.entries(T.config);a<t.length;a++){var n=(0,i.Z)(t[a],2),l=n[0],r=n[1],s=(0,v.jsx)(p.Z.Item,{label:r.label,name:l,style:{display:"hidden"===r.type?"none":""},children:_(l,r)},l);e.push(s)}return e}(),(0,v.jsx)(h.Z,{}),(0,v.jsx)(f.ZP,{disabled:t,type:"primary",htmlType:"submit",children:(0,j.sR)().submit})]}))})})]})}}}]);